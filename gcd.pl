퀸들(_엔,_큐에스) :- 범위(1,_엔,_엔에스), 순열(_엔에스,_큐에스), 안전(_큐에스).

        안전([]).
        안전([_큐|_큐에스]) :- 안전(_큐에스), not(공격(_큐,_큐에스)).

        공격(_엑스,_엑스에스) :- 공격(_엑스,1,_엑스에스).
        공격(_엑스,_엔,[_와이|_]) :- _엑스 := _와이+_엔; _엑스 := _와이-_엔.
        공격(_엑스,_엔,[_|_와이에스]) :- _엔1 := _엔+1, 공격(_엑스,_엔1,_와이에스).

        범위(_엔,_엔,[_엔]).
        범위(_엠,_엔,[_엠|_엔에스]) :- _엠 < _엔, _엠1 := _엠+1, 범위(_엠1,_엔,_엔에스).