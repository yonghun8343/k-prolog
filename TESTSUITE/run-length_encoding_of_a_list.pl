부호화_직접([],[]).
부호화_직접([_가|_간],[_다|_다s]) :- 셈(_가,_간,_난,1,_다), 부호화_직접(_난,_다s).
셈(_가,[],[],1,_가).
셈(_가,[],[],_카,[_카,_가]) :- _카 > 1.
셈(_가,[_나|_난],[_나|_난],1,_가) :- _가 \= _나.
셈(_가,[_나|_난],[_나|_난],_카,[_카,_가]) :- _카 > 1, _가 \= _나.
셈(_가,[_가|_간],_난,_하,_타) :- _하1 := _하 + 1, 셈(_가,_간,_난,_하1,_타).

?- 부호화_직접([a,a,a,a,b,c,c,a,a,d,e,e,e,e],_가).