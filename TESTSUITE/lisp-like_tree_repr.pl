트리_전위순회(_티, _엘) :- 트리_전위순회_차분(_티, _엘-[]).


트리_전위순회_차분(t(_엑스, []), [_엑스|_엘]-_엘) :- _엑스 \= '('.
트리_전위순회_차분(t(_엑스, [_티|_티들]), ['(', _엑스|_엘]-_얼) :- 숲_전위순회_차분([_티|_티들], _엘-[')'|_얼]).

숲_전위순회_차분([],  _엘-_엘).
숲_전위순회_차분([_티|_티들],  _엘- _얼) :- 트리_전위순회_차분(_티,  _엘- _엠), 숲_전위순회_차분(_티들,  _엠-_얼).

?- 트리_전위순회(_에이,['(', a, '(', b, c, ')', ')']).